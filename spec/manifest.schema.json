{
  "$comment": "Purpose: Define the JSON Schema for the minimal PromptCalc manifest. Persists: None. Security Risks: Validates manifest fields used to gate untrusted artifacts.",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PromptCalc Manifest",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "specVersion",
    "title",
    "description",
    "executionModel",
    "capabilities",
    "inputs",
    "outputs",
    "limitations",
    "safetyNotes",
    "hash"
  ],
  "properties": {
    "specVersion": {
      "type": "string",
      "const": "1.0"
    },
    "title": {
      "type": "string",
      "minLength": 1
    },
    "description": {
      "type": "string",
      "minLength": 1
    },
    "executionModel": {
      "type": "string",
      "enum": ["expression", "eventHandlers", "customJS"]
    },
    "capabilities": {
      "type": "array",
      "items": {"type": "string"}
    },
    "inputs": {
      "type": "array",
      "items": {"type": "string"}
    },
    "outputs": {
      "type": "array",
      "items": {"type": "string"}
    },
    "limitations": {
      "type": "array",
      "items": {"type": "string"}
    },
    "safetyNotes": {
      "type": "array",
      "items": {"type": "string"}
    },
    "hash": {
      "type": "string",
      "minLength": 1
    }
  }
}
